{% extends 'peopleDB/base.html' %}
{% load static %}
{% load base_tags %}
{% load crispy_forms_tags %}


{% block content %}

    <div class="container" style="background-color: azure;
    border: 1px solid;
    width: 100%;
    margin-top: 10px;
    margin-left: 5%;
    padding-left: 2%;
    padding-top: 1%;
    padding-right: 2%;
    padding-bottom: 1%;">

        <!-- Content here -->
        <form method="get">
            <div class="form-row">
                <div class="form-group col-mb-3 mb-0">
                     {{ filter.form.city|as_crispy_field }}
                </div>
                <div class="form-group col-md-6 mb-0">
                     {{ filter.form.position|as_crispy_field }}
                </div>
            </div>

            <button type="submit" class="btn btn-secondary btn-icon" style="float: right"><span class="icon"><i class="fas fa-search"></i></span>Search</button>
           <p> Найдено: {{ filter.qs.count }}</p>
        </form>

    </div>

    <div style="margin-right: 2%; margin-left: 2%; float: right; width: 75%">
        
        {% for d in filter.qs %}

            <div class="card">
                <div class="card-header"><i class="fas fa-user-tie"></i><h5><a href="{% url 'dev_view' id=d.id %}">{{ d.name }}</a></h5>
                </div>
            <div class="card-body">
                <div><h6>{{ d.city }}</h6></div>
                <div>{{ d.rank_position }} {{ d.position }}</div>
            </div>

                <h5>Skills: </h5>
                <div class="card-footer">{{ d.skills.all|join:", " }}</div>
             </div>
        {% endfor %}
    </div>



{% endblock %}